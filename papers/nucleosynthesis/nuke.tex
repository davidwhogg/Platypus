% This file is part of the Platypus project.
% Copyright 2016 the authors.

% # to-do list
% - put in figures showing the G vectors.

\documentclass[12pt, preprint]{aastex}

% text commands
\newcommand{\equationname}{equation}
\newcommand{\acronym}[1]{{\small{#1}}}
\newcommand{\project}[1]{\textsl{#1}}
\newcommand{\apogee}{\project{\acronym{APOGEE}}}

% math commands
\newcommand{\solar}{\odot}
\newcommand{\abundance}[1]{\lbrack{#1}\rbrack}
\newcommand{\element}[1]{\mathrm{#1}}
\newcommand{\given}{\,|\,}
\newcommand{\normal}{\mathcal{N}}


\begin{document}

\title{The minimal nucleosynthesis project with \apogee}
\author{DWH, HWR, JR, others}

\begin{abstract}
We describe the minimal thing you could do with the \apogee\ data to
improve our understanding of nucleosynthesis:
Model the detailed distribution of stars in 15-dimensional abundance
space as a non-negative mixture of supernova and AGB yield vectors,
but permitting those yield vectors to be distorted where the data
require it.
\end{abstract}

\keywords{
  ---
  World: Hello
  ---
}

\section{Introduction}

Nucleosynthesis is important.  Models are (at least slightly) wrong.
Data are now abundant.  We want data-driven models that are
nonetheless interpretable in terms of nucleosynthetic pathways.

\section{Model}

We adopt the standard terminology, that an abundance in square brackets
is taken to be log (base 10) and relative to Solar:
\begin{eqnarray}
  \abundance{X/Y}_n &\equiv& \log_{10}\left(\left.\frac{X}{Y}\right|_n\right) -
                             \log_{10}\left(\left.\frac{X}{Y}\right|_\solar\right)
\quad ,
\end{eqnarray}
where the index $n$ indicates the identity (\apogee\ label) of the star.
Our model obtains some complexity, because we assume (unrealistically)
that the uncertainties are Gaussian in the log (base 10) but our
nucleosynthetic model will be linear in the linear abundance ratios.
In particular, we assume that each logarithmic abundance $\abundance{X/Y}$
can be written as the log (base 10) of a linear abundance ratio $y$ with
an error applied (outside the log)
\begin{eqnarray}
  \abundance{X/Y}_n &=& \log_{10}(y_{nd}) + e_{nd} \label{eq:model1}
\\
  p(e_{nd}) &=& \normal(e_{nd}\given 0,\sigma^2_{nd}) \label{eq:model2}
\quad ,
\end{eqnarray}
where the index $n$ indicates the star and the index $d$ indicates the
particular abundance ratio (for example, $\abundance{\element{Fe}/\element{H}}$ might get
$d=1$, and $\abundance{\element{C}/\element{Fe}}$ might get $d=2$, and so on), $y_{nd}$ is
the linear abundance ratio as given by the nucleosynthetic mean model
prediction (see below), and $e_{nd}$ is an error (in dex) drawn from a Gaussian
frequency distribution with zero mean and known variance $\sigma^2_{nd}$.

The model is that the linear abundances are generated by a linear model
that is a mixture of $K$ supernova and AGB yield contributions.
\begin{eqnarray}
  y_{nd} &=& \sum_{k=1}^K a_{nk}\,g_{kd}
\quad ,
\end{eqnarray}
where the $a_{nk}$ are the $K$ supernova and AGB mixture coefficients
for star $n$, and the $g_{kd}$ are the yield values for each of the
elements $d$ for each of the supernova (and AGB---hereafter we will
just call all nucleosynthetic pathways ``supernovae'') types $k$.
We can (with no trouble) let all the $a_{nk}$ and $g_{kd}$ go free and
optimize the likelihood function (implied by
\equationname s~\ref{eq:model1} and \ref{eq:model2}) with respect to them all.
This would make the model nearly equivalent to the HMF we have published
previously (CITE Tsalmantza).
This would be similar to (but more responsible than) performing a kind
of principal component analysis, which is principal but not
principled---and, importantly, not interpretable physically.

However, we wish to be data-driven, but also produce results with some
hope of being interpretable in terms of supernova and AGB yields.
For this reason, we require that the yield vector components $g_{kd}$
be nearby to some theoretical predictions $G_{kd}$.
To be specfic, we set very informative priors on the $g_{kd}$ that they
be close to the $G_{kd}$, with (for example)
\begin{eqnarray}
  p(\log_{10} g_{kd}) &=& \normal(\log_{10} g_{kd}\given \log_{10} G_{kd},\Sigma^2_{kd})
\quad ,
\end{eqnarray}
where the the $\Sigma^2_{kd}$ are hyper-parameters parameterizing our credulity
with respect to the theory!

To kick this model-fest off, Jan will supply two effective Type II
supernova yield curves, one Type Ia curve, and one AGB curve, to make
$K=4$.  We will use $D=15$ (with $1<d<D$) \apogee\ abundance ratios
for $N=95,000$ red-giant stars\ldots

\end{document}
